package mong.testroom1;import java.io.BufferedReader;import java.io.DataInputStream;import java.io.FileInputStream;import java.io.FileWriter;import java.io.IOException;import java.io.InputStreamReader;public class GsFileTrans {	/**	 * @param args	 * @throws IOException 	 */	public static void main(String[] args) throws IOException {		if(args.length == 0){			System.out.println("Argup[0] is must input");			//return;		}						Thread t = new Thread(){			public void run(){				try {					while (!Thread.interrupted()) {						Thread.sleep(1000);						System.out.print(".");					}				} catch (InterruptedException e) {					// TODO: handle exception				}			}		};				t.setDaemon(true);		t.start();				String filePath = "/Users/acacia99/works/sy.park/solr-4.2.1/example/exampledocs/gsprdlist_ori.xml";		//String filePath = "/wiselog/rawdata/" + args[0] + "/";		FileInputStream fis = null;		DataInputStream in = null;		BufferedReader br = null;				FileWriter writer = null;		writer = new FileWriter("/Users/acacia99/works/sy.park/solr-4.2.1/example/exampledocs/gsprdlist.xml");				writer.write("<add>");			try {			fis = new FileInputStream(filePath);			in = new DataInputStream(fis);			br = new BufferedReader(new InputStreamReader(in));						String strLine;			StringBuffer stb = new StringBuffer();			long cnt=0;			while((strLine=br.readLine()) != null){								if(strLine.indexOf("<document") > -1){					stb.append("<doc>").append("\n");				}else if(strLine.indexOf("PRDID\"") > 0){					System.out.println("PRD strLine:"+strLine);					String prdid = strLine.substring(strLine.indexOf("value=\"")+"value=\"".length(), strLine.indexOf("\"></attribute"));					stb.append("<field name=\"id\">"+prdid+"</field>").append("\n");					System.out.println("prdid:"+prdid);					cnt++;				}else if(strLine.indexOf("PRD_NAME\"") > 0){					System.out.println("PRD_NAME strLine:"+strLine);					String prdNm = "";					try {						prdNm = strLine.substring(strLine.indexOf("value=\"")+"value=\"".length(), strLine.indexOf("\"></attribute"));											} catch (Exception e) {						// TODO: handle exception						prdNm = strLine.substring(strLine.indexOf("value=\"")+"value=\"".length());					} 					stb.append("<field name=\"name\"><![CDATA["+prdNm+"]]></field>").append("\n");				}else if(strLine.indexOf("BRAND\"") > 0){					System.out.println("BRAND strLine:"+strLine);					String brandNm = strLine.substring(strLine.indexOf("value=\"")+"value=\"".length(), strLine.indexOf("\"></attribute"));					stb.append("<field name=\"manu\"><![CDATA["+brandNm+"]]></field>").append("\n");				}else if(strLine.indexOf("</document") > -1){					stb.append("</doc>").append("\n");				}else{					stb.append("");				}								writer.write(stb.toString());				stb.setLength(0);							}										writer.write("</add>");						System.out.println("final cnt:"+cnt);		} catch (Exception e) {			System.out.println(e.getMessage());		} finally {			br.close();			in.close();			fis.close();						if(writer != null){				writer.close();			}						t.interrupt();		}			}}